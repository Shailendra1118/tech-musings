-- example HTTP POST script which demonstrates setting the
-- HTTP method, body, and adding a header
-- wrk -t3 -c3 -d1m --latency  http://$(BASE_URL)/api/v1/pdfgenerator/pdfstream -s generate_pdf.lua

wrk.method = "POST"
wrk.body   = '{"page": {"format": "A4","height": "11in","width": "8.5in"},"header": "PHN0eWxlPi5oZWFkZXJ7d2lkdGg6IDEwMCU7fSAuZm9vdGVye3dpZHRoOiAxMDAlO30gLnJvd3t3aWR0aDogMTAwJTtkaXNwbGF5OiBmbGV4O30gLmNlbGx7d2lkdGg6IDEwMCU7fSAuY29tcG9uZW50e3dpZHRoOiAxMDAlO30gLmdyb3Vwe2Rpc3BsYXk6IGZsZXg7fSAudmVydGljYWx7d2lkdGg6IDEwMCU7ZGlzcGxheTogYmxvY2s7fSAuaG9yaXpvbnRhbHt3aWR0aDogMTAwJTtkaXNwbGF5OiBmbGV4O30gdGFibGUgdGh7dGV4dC1hbGlnbjogbGVmdDtib3JkZXItYm90dG9tOiAxcHggc29saWQgIzcwNzA3MDt9IHRhYmxle3dpZHRoOiAxMDAlO2JvcmRlci1zcGFjaW5nOiAwcHg7fSB0YWJsZSB0aGVhZHt0ZXh0LWFsaWduOiBsZWZ0O2ZvbnQtc2l6ZTogOHB4O30gdGFibGUgdGhlYWQgdGh7cGFkZGluZy1ib3R0b206IDZweDt9IHRhYmxlIHRib2R5e3RleHQtYWxpZ246IGxlZnQ7Zm9udC1zaXplOiA4cHg7fSB0YWJsZSB0Ym9keSB0ciB0ZHtwYWRkaW5nLXRvcDogNnB4O3BhZGRpbmctYm90dG9tOiA2cHg7fSBocntib3JkZXI6IDA7fSAuaGVhZGVye21hcmdpbi10b3A6IGNhbGMoNDVweCAtIDE1cHgpO21hcmdpbi1ib3R0b206IDEwcHg7bWFyZ2luLWxlZnQ6IDQ1cHg7bWFyZ2luLXJpZ2h0OiA0NXB4O30gfSAgYXtjb2xvcjogIzQ3NDc0Nzt0ZXh0LWRlY29yYXRpb246IG5vbmU7fSBwe2ZvbnQtc2l6ZTogOXB4O2ZvbnQtZmFtaWx5OiBBcmlhbDt9IHRhYmxlIHRoe2ZvbnQtZmFtaWx5OiBBcmlhbDt9IHRhYmxlIHRib2R5e2ZvbnQtc2l6ZTogOHB4O2ZvbnQtZmFtaWx5OiBBcmlhbDtjb2xvcjogIzQ3NDc0Nzt9IDwvc3R5bGU+PGRpdiBjbGFzcz0naGVhZGVyJyBzdHlsZT0naGVpZ2h0OiA0MHB4Oyc+PGRpdiBjbGFzcz0ncm93JyBzdHlsZT0nYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NzU3NTc7Jz48ZGl2IGNsYXNzPSdjZWxsJyBzdHlsZT0nd2lkdGg6IDIwJTsnPjwvZGl2PjxkaXYgY2xhc3M9J2NlbGwnIHN0eWxlPSd3aWR0aDogNjAlOyc+PHAgc3R5bGU9J2NvbG9yOiAjNzA3MDcwO2ZvbnQtd2VpZ2h0OiBib2xkO21hcmdpbi1sZWZ0OiA1MHB4Oyc+SW52b2ljZTwvcD48L2Rpdj48ZGl2IGNsYXNzPSdjZWxsJyBzdHlsZT0nd2lkdGg6IDIwJTsnPjxwIHN0eWxlPSdjb2xvcjogIzcwNzA3MDt0ZXh0LWFsaWduOiByaWdodDtmb250LXNpemU6IDZweDtmb250LWZhbWlseTogQXJpYWw7JyA+UGFnZSAxPC9wPjwvZGl2PjwvZGl2PjwvZGl2Pg==","footer": "PHN0eWxlPi5oZWFkZXJ7d2lkdGg6IDEwMCU7fSAuZm9vdGVye3dpZHRoOiAxMDAlO30gLnJvd3t3aWR0aDogMTAwJTtkaXNwbGF5OiBmbGV4O30gLmNlbGx7d2lkdGg6IDEwMCU7fSAuY29tcG9uZW50e3dpZHRoOiAxMDAlO30gLmdyb3Vwe2Rpc3BsYXk6IGZsZXg7fSAudmVydGljYWx7d2lkdGg6IDEwMCU7ZGlzcGxheTogYmxvY2s7fSAuaG9yaXpvbnRhbHt3aWR0aDogMTAwJTtkaXNwbGF5OiBmbGV4O30gdGFibGUgdGh7dGV4dC1hbGlnbjogbGVmdDtib3JkZXItYm90dG9tOiAxcHggc29saWQgIzcwNzA3MDt9IHRhYmxle3dpZHRoOiAxMDAlO2JvcmRlci1zcGFjaW5nOiAwcHg7fSB0YWJsZSB0aGVhZHt0ZXh0LWFsaWduOiBsZWZ0O2ZvbnQtc2l6ZTogOHB4O30gdGFibGUgdGhlYWQgdGh7cGFkZGluZy1ib3R0b206IDZweDt9IHRhYmxlIHRib2R5e3RleHQtYWxpZ246IGxlZnQ7Zm9udC1zaXplOiA4cHg7fSB0YWJsZSB0Ym9keSB0ciB0ZHtwYWRkaW5nLXRvcDogNnB4O3BhZGRpbmctYm90dG9tOiA2cHg7fSBocntib3JkZXI6IDA7fSAuZm9vdGVyIHttYXJnaW4tYm90dG9tOiBjYWxjKDQ1cHggLSAxNXB4KTttYXJnaW4tdG9wOiAxMHB4O21hcmdpbi1sZWZ0OiA0NXB4O21hcmdpbi1yaWdodDogNDVweDt9IH0gIGF7Y29sb3I6ICM0NzQ3NDc7dGV4dC1kZWNvcmF0aW9uOiBub25lO30gcHtmb250LXNpemU6IDlweDtmb250LWZhbWlseTogQXJpYWw7fSB0YWJsZSB0aHtmb250LWZhbWlseTogQXJpYWw7fSB0YWJsZSB0Ym9keXtmb250LXNpemU6IDhweDtmb250LWZhbWlseTogQXJpYWw7Y29sb3I6ICM0NzQ3NDc7fSA8L3N0eWxlPjxkaXYgY2xhc3M9J2Zvb3Rlcicgc3R5bGU9J2hlaWdodDogNDBweDsnPjxkaXYgY2xhc3M9J3Jvdycgc3R5bGU9J2JvcmRlci10b3A6IDFweCBzb2xpZCAjNTc1NzU3Oyc+PGRpdiBjbGFzcz0nY2VsbCcgc3R5bGU9J3dpZHRoOiAxMDAlOyc+PHAgc3R5bGU9J2NvbG9yOiAjNzA3MDcwO3RleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZTogNnB4O2ZvbnQtZmFtaWx5OiBBcmlhbDsnID5QYWdlIDE8L3A+PC9kaXY+PC9kaXY+PC9kaXY+","body": "PHN0eWxlPi5oZWFkZXJ7d2lkdGg6IDEwMCU7fSAuZm9vdGVye3dpZHRoOiAxMDAlO30gLnJvd3t3aWR0aDogMTAwJTtkaXNwbGF5OiBmbGV4O30gLmNlbGx7d2lkdGg6IDEwMCU7fSAuY29tcG9uZW50e3dpZHRoOiAxMDAlO30gLmdyb3Vwe2Rpc3BsYXk6IGZsZXg7fSAudmVydGljYWx7d2lkdGg6IDEwMCU7ZGlzcGxheTogYmxvY2s7fSAuaG9yaXpvbnRhbHt3aWR0aDogMTAwJTtkaXNwbGF5OiBmbGV4O30gdGFibGUgdGh7dGV4dC1hbGlnbjogbGVmdDtib3JkZXItYm90dG9tOiAxcHggc29saWQgIzcwNzA3MDt9IHRhYmxle3dpZHRoOiAxMDAlO2JvcmRlci1zcGFjaW5nOiAwcHg7fSB0YWJsZSB0aGVhZHt0ZXh0LWFsaWduOiBsZWZ0O2ZvbnQtc2l6ZTogOHB4O30gdGFibGUgdGhlYWQgdGh7cGFkZGluZy1ib3R0b206IDZweDt9IHRhYmxlIHRib2R5e3RleHQtYWxpZ246IGxlZnQ7Zm9udC1zaXplOiA4cHg7fSB0YWJsZSB0Ym9keSB0ciB0ZHtwYWRkaW5nLXRvcDogNnB4O3BhZGRpbmctYm90dG9tOiA2cHg7fSBocntib3JkZXI6IDA7fSBAcGFnZSB7IG1hcmdpbi1sZWZ0OiBjYWxjKDQ1cHggKyA4cHgpO21hcmdpbi1yaWdodDogY2FsYyg0NXB4ICsgOHB4KTsgbWFyZ2luLXRvcDogY2FsYyg0NXB4ICsgNDBweCArIDUwcHgpO21hcmdpbi1ib3R0b206IGNhbGMoNDVweCArIDQwcHggKyAzMHB4KTt9IEBwYWdlOmZpcnN0IHsgbWFyZ2luLWxlZnQ6IGNhbGMoNDVweCArIDhweCk7bWFyZ2luLXJpZ2h0OiBjYWxjKDQ1cHggKyA4cHgpO21hcmdpbi10b3A6IDQ1cHg7bWFyZ2luLWJvdHRvbTogY2FsYyg0NXB4ICsgNDBweCArIDMwcHgpO30gYXtjb2xvcjogIzQ3NDc0Nzt0ZXh0LWRlY29yYXRpb246IG5vbmU7fSBwe2ZvbnQtc2l6ZTogOXB4O2ZvbnQtZmFtaWx5OiBBcmlhbDt9IHRhYmxlIHRoe2ZvbnQtZmFtaWx5OiBBcmlhbDt9IHRhYmxlIHRib2R5e2ZvbnQtc2l6ZTogOHB4O2ZvbnQtZmFtaWx5OiBBcmlhbDtjb2xvcjogIzQ3NDc0Nzt9IDwvc3R5bGU+PGRpdiBjbGFzcz0ncm93JyBzdHlsZT0nJz48ZGl2IGNsYXNzPSdjZWxsJyBzdHlsZT0nd2lkdGg6IDEwMCU7Jz48aHIgc3R5bGU9J2hlaWdodDozMHB4JyAvPjxkaXYgY2xhc3M9J3Jvdycgc3R5bGU9Jyc+PGRpdiBjbGFzcz0nY2VsbCcgc3R5bGU9J3dpZHRoOiA3MCU7Jz48aHIgc3R5bGU9J2hlaWdodDozMHB4JyAvPjxkaXYgY2xhc3M9J3Jvdycgc3R5bGU9Jyc+PGRpdiBjbGFzcz0nY2VsbCcgc3R5bGU9J3dpZHRoOiA1MCU7Y29sb3I6ICM0NzQ3NDc7dGV4dC1hbGlnbjogbGVmdDsnPjxwIHN0eWxlPSdjb2xvcjogIzcwNzA3MDtmb250LXdlaWdodDogYm9sZDsnPkJJTEwgVE88L3A+PGltZyBzdHlsZT0nY29sb3I6ICM3MDcwNzA7Zm9udC13ZWlnaHQ6IGJvbGQ7JyBzcmM9J2RhdGE6dGV4dC9odG1sO2Jhc2U2NCxQQ0ZFVDBOVVdWQkZJRWhVVFV3Z1VGVkNURWxESUNJdEx5OVhNME12TDBSVVJDQklWRTFNSURRdU1ERXZMMFZPSWlBaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdlZGSXZhSFJ0YkRRdmMzUnlhV04wTG1SMFpDSStDanhvZEcxc1BnbzhhR1ZoWkQ0S1BHMWxkR0VnYUhSMGNDMWxjWFZwZGowaVEyOXVkR1Z1ZEMxVWVYQmxJaUJqYjI1MFpXNTBQU0owWlhoMEwyaDBiV3c3SUdOb1lYSnpaWFE5YVhOdkxUZzROVGt0TVNJK0NqeHRaWFJoSUdoMGRIQXRaWEYxYVhZOUlrTnZiblJsYm5RdFUyTnlhWEIwTFZSNWNHVWlJR052Ym5SbGJuUTlJblJsZUhRdmFtRjJZWE5qY21sd2RDSStDanh6WTNKcGNIUWdkSGx3WlQwaWRHVjRkQzlxWVhaaGMyTnlhWEIwSWo0S1puVnVZM1JwYjI0Z1oyVjBRMjl2YTJsbEtHTmZibUZ0WlNrZ2V5QXZMeUJNYjJOaGJDQm1kVzVqZEdsdmJpQm1iM0lnWjJWMGRHbHVaeUJoSUdOdmIydHBaU0IyWVd4MVpRb2dJQ0FnYVdZZ0tHUnZZM1Z0Wlc1MExtTnZiMnRwWlM1c1pXNW5kR2dnUGlBd0tTQjdDaUFnSUNBZ0lDQWdZMTl6ZEdGeWRDQTlJR1J2WTNWdFpXNTBMbU52YjJ0cFpTNXBibVJsZUU5bUtHTmZibUZ0WlNBcklDSTlJaWs3Q2lBZ0lDQWdJQ0FnYVdZZ0tHTmZjM1JoY25RaFBTMHhLU0I3Q2lBZ0lDQWdJQ0FnWTE5emRHRnlkRDFqWDNOMFlYSjBJQ3NnWTE5dVlXMWxMbXhsYm1kMGFDQXJJREU3Q2lBZ0lDQWdJQ0FnWTE5bGJtUTlaRzlqZFcxbGJuUXVZMjl2YTJsbExtbHVaR1Y0VDJZb0lqc2lMQ0JqWDNOMFlYSjBLVHNLQ2lBZ0lDQWdJQ0FnYVdZZ0tHTmZaVzVrUFQwdE1Ta2dDaUFnSUNBZ0lDQWdJQ0FnSUdOZlpXNWtJRDBnWkc5amRXMWxiblF1WTI5dmEybGxMbXhsYm1kMGFEc0tDaUFnSUNBZ0lDQWdjbVYwZFhKdUlIVnVaWE5qWVhCbEtHUnZZM1Z0Wlc1MExtTnZiMnRwWlM1emRXSnpkSEpwYm1jb1kxOXpkR0Z5ZEN4algyVnVaQ2twT3dvZ0lDQWdJQ0FnSUgwS0lDQWdJSDBLSUNBZ0lISmxkSFZ5YmlBaUlqc0tmUXBtZFc1amRHbHZiaUJ6WlhSRGIyOXJhV1VvWTE5dVlXMWxMQ0IyWVd4MVpTd2daWGh3YVhKbFpHRjVjeWtnZXlBdkx5Qk1iMk5oYkNCbWRXNWpkR2x2YmlCbWIzSWdjMlYwZEdsdVp5QmhJSFpoYkhWbElHOW1JR0VnWTI5dmEybGxDaUFnSUNCMllYSWdaWGhrWVhSbElEMGdibVYzSUVSaGRHVW9LVHNLSUNBZ0lHVjRaR0YwWlM1elpYUkVZWFJsS0dWNFpHRjBaUzVuWlhSRVlYUmxLQ2tyWlhod2FYSmxaR0Y1Y3lrN0NpQWdJQ0JrYjJOMWJXVnVkQzVqYjI5cmFXVWdQU0JqWDI1aGJXVWdLeUFpUFNJZ0t5QmxjMk5oY0dVb2RtRnNkV1VwSUNzZ0tDaGxlSEJwY21Wa1lYbHpQVDF1ZFd4c0tTQS9JQ0lpSURvZ0lqdGxlSEJwY21WelBTSWdLeUJsZUdSaGRHVXVkRzlIVFZSVGRISnBibWNvS1NrZ0t5QWlPM0JoZEdnOUx5STdDbjBLWm5WdVkzUnBiMjRnWjJWMFNHOXpkRlZ5YVNncElIc0tJQ0FnSUhaaGNpQnNiMk1nUFNCa2IyTjFiV1Z1ZEM1c2IyTmhkR2x2YmpzS0lDQWdJSEpsZEhWeWJpQnNiMk11ZEc5VGRISnBibWNvS1RzS2ZRcHpaWFJEYjI5cmFXVW9KMWxRUmpnNE1qY3pOREF5T0RKS1pITnJhbWhtYVhkZk9USTRPVE0zTkRVNU1UZ3lTa0ZZTmpZMkp5d2dKemszTGpZMUxqRXhPUzR4T1RBbkxDQXhNQ2s3Q25SeWVTQjdJQ0FLSUNBZ0lHeHZZMkYwYVc5dUxuSmxiRzloWkNoMGNuVmxLVHNnSUFwOUlHTmhkR05vSUNobGNuSXhLU0I3SUNBS0lDQWdJSFJ5ZVNCN0lDQUtJQ0FnSUNBZ0lDQnNiMk5oZEdsdmJpNXlaV3h2WVdRb0tUc2dJQW9nSUNBZ2ZTQmpZWFJqYUNBb1pYSnlNaWtnZXlBZ0NpQWdJQ0FKYkc5allYUnBiMjR1YUhKbFppQTlJR2RsZEVodmMzUlZjbWtvS1RzZ0lBb2dJQ0FnZlNBZ0NuMEtQQzl6WTNKcGNIUStDand2YUdWaFpENEtQR0p2WkhrK0NqeHViM05qY21sd2RENVVhR2x6SUhOcGRHVWdjbVZ4ZFdseVpYTWdTbUYyWVZOamNtbHdkQ0JoYm1RZ1EyOXZhMmxsY3lCMGJ5QmlaU0JsYm1GaWJHVmtMaUJRYkdWaGMyVWdZMmhoYm1kbElIbHZkWElnWW5KdmQzTmxjaUJ6WlhSMGFXNW5jeUJ2Y2lCMWNHZHlZV1JsSUhsdmRYSWdZbkp2ZDNObGNpNDhMMjV2YzJOeWFYQjBQZ284TDJKdlpIaytDand2YUhSdGJENEsnPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pg=="}'
wrk.headers["Content-Type"] = "application/json"